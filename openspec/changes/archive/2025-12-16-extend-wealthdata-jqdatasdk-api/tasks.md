## 1. 需求分析与设计
- [ ] 1.1 分析 jqdatasdk 常用 API 列表和使用场景
- [ ] 1.2 确定 API 适配策略（股票概念 → 加密货币概念）
- [ ] 1.3 定义数据源需求（哪些 API 需要额外数据）
- [ ] 1.4 确定实现优先级（Phase 1/2/3）

## 2. Phase 1: 核心 API 实现
- [x] 2.1 实现 `get_all_securities()` 函数
  - [x] 2.1.1 定义返回数据结构（交易对列表、基本信息）
  - [x] 2.1.2 从 Context 或配置获取交易对列表（从 market_data_context 提取）
  - [x] 2.1.3 返回格式与 jqdatasdk 兼容
  - [x] 2.1.4 添加单元测试
- [x] 2.2 实现 `get_trade_days()` 函数
  - [x] 2.2.1 定义加密货币 7x24 交易的适配策略
  - [x] 2.2.2 实现时间序列生成逻辑
  - [x] 2.2.3 返回格式与 jqdatasdk 兼容
  - [x] 2.2.4 添加单元测试

## 3. Phase 2: 指数相关 API
- [x] 3.1 定义加密货币指数概念和数据结构（创建 index_config.py）
- [x] 3.2 实现 `get_index_stocks()` 函数
  - [x] 3.2.1 定义指数标识符格式（如 'BTC_INDEX'）
  - [x] 3.2.2 实现指数成分查询逻辑
  - [x] 3.2.3 返回格式与 jqdatasdk 兼容
  - [x] 3.2.4 添加单元测试
- [x] 3.3 实现 `get_index_weights()` 函数
  - [x] 3.3.1 定义权重数据结构
  - [x] 3.3.2 实现权重查询逻辑
  - [x] 3.3.3 返回格式与 jqdatasdk 兼容
  - [x] 3.3.4 添加单元测试

## 4. Phase 3: 高级 API
- [x] 4.1 定义加密货币"财务数据"概念（简化适配，返回基本交易对信息）
- [x] 4.2 实现 `get_fundamentals()` 函数
  - [x] 4.2.1 定义适配策略（返回交易对基本信息或空数据）
  - [x] 4.2.2 实现查询逻辑
  - [x] 4.2.3 返回格式与 jqdatasdk 兼容
  - [x] 4.2.4 添加单元测试和警告提示
- [x] 4.3 定义加密货币分类体系（创建 industry_config.py）
- [x] 4.4 实现 `get_industry()` 函数
  - [x] 4.4.1 定义分类体系（DeFi、Layer1、Layer2 等）
  - [x] 4.4.2 实现分类查询逻辑
  - [x] 4.4.3 返回格式与 jqdatasdk 兼容
  - [x] 4.4.4 添加单元测试

## 5. 文档更新
- [ ] 5.1 更新 `PRD/JoinQuant迁移指南.md`
  - [ ] 5.1.1 添加新 API 的兼容性说明
  - [ ] 5.1.2 说明适配策略和限制
  - [ ] 5.1.3 添加使用示例
- [ ] 5.2 更新 `openspec/specs/strategy-development/spec.md`
  - [ ] 5.2.1 添加新 API 的文档说明
  - [ ] 5.2.2 说明参数、返回值和异常
  - [ ] 5.2.3 添加使用示例
- [ ] 5.3 更新 `engine/wealthdata/wealthdata.py` 的文档字符串
  - [ ] 5.3.1 为每个新 API 添加详细的文档字符串
  - [ ] 5.3.2 说明与 jqdatasdk 的兼容性和差异

## 6. 测试与验证
- [ ] 6.1 编写单元测试
  - [ ] 6.1.1 测试每个新 API 的基本功能
  - [ ] 6.1.2 测试边界情况和错误处理
  - [ ] 6.1.3 测试与 jqdatasdk 的兼容性（返回格式）
- [ ] 6.2 编写集成测试
  - [ ] 6.2.1 测试新 API 在策略中的使用
  - [ ] 6.2.2 测试迁移示例策略
- [ ] 6.3 验证兼容性
  - [ ] 6.3.1 使用 JoinQuant 示例策略验证迁移
  - [ ] 6.3.2 确保返回格式与 jqdatasdk 一致

## 7. 代码审查与优化
- [ ] 7.1 代码审查
  - [ ] 7.1.1 检查代码风格和规范
  - [ ] 7.1.2 检查错误处理和边界情况
  - [ ] 7.1.3 检查文档完整性
- [ ] 7.2 性能优化
  - [ ] 7.2.1 优化数据查询性能
  - [ ] 7.2.2 添加缓存机制（如需要）
- [ ] 7.3 错误处理优化
  - [ ] 7.3.1 完善异常类型和错误消息
  - [ ] 7.3.2 添加警告提示（对于不适用的场景）

